name: capstone-geospatial-ai
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults

dependencies:
  - python=3.10
  
  # --- CV/DL Core (QUẢN LÝ BẰNG CONDA/PYTORCH CHANNEL) ---
  - pytorch=2.1.0
  - torchvision=0.16.0
  - torchaudio=2.1.0
  - pytorch-cuda=12.1          # Chỉ định bản build CUDA 12.1
  
  # --- CV/Scientific Core (CỐ ĐỊNH PHIÊN BẢN CHO ỔN ĐỊNH) ---
  - opencv=4.10.0              # Lấy từ conda-forge. KHÔNG DÙNG opencv-python!
  - numpy=1.26.4               # CRITICAL: Khóa NumPy 1.x để PyTorch chạy
  - scipy=1.15.2
  - scikit-learn=1.3.0         # Khóa bản sklearn an toàn
  - pandas
  - matplotlib
  - jupyterlab
  - ipykernel
  - pyyaml
  - packaging
  - pillow
  - networkx
  - imageio
  
  # --- Pip Packages (Ít gây xung đột) ---
  - pip
  - pip:
    - albumentations==1.4.0    # Sẽ cài đúng bản này vì NumPy và OpenCV đã được cố định
    - tqdm